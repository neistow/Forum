@using Microsoft.AspNet.Identity
@model Forum.Models.PostViewModel

@{
    ViewBag.Title = Model.Post.Title;
}

<h1>@Model.Post.Title</h1>
<h4>
    @Model.Post.Author.UserName in <i>@Model.Post.DateCreated.ToString("dd/MM/yyyy dddd")</i>
</h4>
@if (User.Identity.GetUserId() == Model.Post.AuthorId)
{
    <p class="text-right">
        @Html.ActionLink("Edit","Edit","Forum",Model.Post.Id,new {@class = "btn btn-primary"})
        @Html.ActionLink("Delete","Edit","Forum",Model.Post.Id,new {@class = "btn btn-danger"})
    </p>
}

<br>
<p class="lead text-justify" >@Model.Post.Text</p>

<h2>Replies <span class="text-primary">@Model.Replies.Count()</span></h2>
<hr>
@foreach (var reply in Model.Replies)
{
    <div class="reply">
        <h3>@reply.Author.UserName at <i>@reply.DateCreated.ToString("g")</i></h3>
        <p class="lead text-justify">@reply.Text</p>
    </div>
}